/*C4*/SET SCHEMA PUBLIC
drop table if exists CUSTOMER CASCADE 
drop table if exists ORDER_ITEMS CASCADE 
drop table if exists PRODUCT CASCADE 
drop table if exists PRODUCT_CATEGORY CASCADE 
drop table if exists SALESORDER CASCADE 
drop table if exists SALESORDER_ORDERITEM CASCADE 
drop sequence hibernate_sequence if exists
create sequence hibernate_sequence start with 1 increment by 1
create table CUSTOMER (CUSTID integer not null, CUST_NAME varchar(255) not null, primary key (CUSTID))
create table ORDER_ITEMS (ORDER_ITEM_ID integer not null, QUANTITY integer not null, TAX double not null, TOTAL_PRICE_WITH_TAX double not null, TOTAL_PRICE_WITHOUT_TAX double not null, PRODUCT_ID integer, primary key (ORDER_ITEM_ID))
create table PRODUCT (PRODUCT_ID integer not null, PRODUCT_NAME varchar(255) not null, RATE double not null, CATEGORY_ID integer, primary key (PRODUCT_ID))
create table PRODUCT_CATEGORY (CATEGORY_ID integer not null, CATEGORY_NAME varchar(255) not null, primary key (CATEGORY_ID))
create table SALESORDER (SALESORDER_ID integer not null, TOTAL_AMOUNT_WITH_TAX double not null, TOTAL_AMOUNT_WITHOUT_TAX double not null, TOTAL_TAX double not null, CUSTOMER_ID integer, primary key (SALESORDER_ID))
create table SALESORDER_ORDERITEM (SALESORDER_ID integer not null, ORDER_ITEM_ID integer not null)
alter table PRODUCT add constraint UK_21d8satdi6nsjlqsldhsmefsc unique (PRODUCT_NAME)
alter table SALESORDER add constraint UK_27o8b6t3q1p6ydihs4i2g3p3s unique (TOTAL_AMOUNT_WITH_TAX)
alter table SALESORDER add constraint UK_igt4fpt55k0pc8gmi2ehnej1u unique (TOTAL_AMOUNT_WITHOUT_TAX)
alter table SALESORDER add constraint UK_7133y30oqtodh88ts3ksi6c0w unique (TOTAL_TAX)
alter table SALESORDER_ORDERITEM add constraint UK_imk898v1fheehha2bjiydvy2x unique (ORDER_ITEM_ID)
alter table ORDER_ITEMS add constraint FK3l1uqbx0feb8fpc546glt8080 foreign key (PRODUCT_ID) references PRODUCT
alter table PRODUCT add constraint FKi1gl0lrdo8s97oj6hq9oatih3 foreign key (CATEGORY_ID) references PRODUCT_CATEGORY
alter table SALESORDER add constraint FKavl6f6q9y07s7ql2uw01lqf3r foreign key (CUSTOMER_ID) references CUSTOMER
alter table SALESORDER_ORDERITEM add constraint FK4usewqwtxc3qw27qw2dcq5ftx foreign key (ORDER_ITEM_ID) references ORDER_ITEMS
alter table SALESORDER_ORDERITEM add constraint FK3ce9ge622fw8j2ejey0thruuo foreign key (SALESORDER_ID) references SALESORDER
INSERT INTO CUSTOMER VALUES(99,'Navneet')
COMMIT
DELETE FROM CUSTOMER WHERE CUSTID=99
COMMIT
INSERT INTO CUSTOMER VALUES(55,'Navneet')
COMMIT
INSERT INTO CUSTOMER VALUES(33,'Navneet')
COMMIT
DELETE FROM CUSTOMER WHERE CUSTID=33
INSERT INTO CUSTOMER VALUES(33,'NavneetUpdated')
COMMIT
INSERT INTO CUSTOMER VALUES(44,'Navneet')
COMMIT
INSERT INTO CUSTOMER VALUES(88,'Navneet')
COMMIT
DELETE FROM CUSTOMER WHERE CUSTID=88
COMMIT
INSERT INTO CUSTOMER VALUES(1,'Navneet')
COMMIT
INSERT INTO PRODUCT_CATEGORY VALUES(4001,'Cateogry 4001')
COMMIT
DELETE FROM PRODUCT_CATEGORY WHERE CATEGORY_ID=4001
COMMIT
INSERT INTO PRODUCT_CATEGORY VALUES(6001,'Cateogry 6001')
COMMIT
INSERT INTO PRODUCT_CATEGORY VALUES(5001,'Cateogry 5001')
COMMIT
DELETE FROM PRODUCT_CATEGORY WHERE CATEGORY_ID=5001
INSERT INTO PRODUCT_CATEGORY VALUES(5001,'HHHH')
COMMIT
INSERT INTO PRODUCT_CATEGORY VALUES(2001,'Cateogry 2001')
COMMIT
INSERT INTO PRODUCT_CATEGORY VALUES(2002,'Cateogry 2002')
COMMIT
INSERT INTO PRODUCT_CATEGORY VALUES(2003,'Cateogry 2003')
COMMIT
INSERT INTO PRODUCT_CATEGORY VALUES(3001,'Cateogry 3001')
COMMIT
DELETE FROM PRODUCT_CATEGORY WHERE CATEGORY_ID=3001
COMMIT
INSERT INTO PRODUCT_CATEGORY VALUES(1001,'Cateogry 1001')
COMMIT
INSERT INTO PRODUCT_CATEGORY VALUES(1002,'Cateogry 1002')
COMMIT
INSERT INTO PRODUCT_CATEGORY VALUES(1003,'Cateogry 1003')
COMMIT
INSERT INTO PRODUCT_CATEGORY VALUES(8888,'Category 8888')
COMMIT
INSERT INTO PRODUCT VALUES(5001,'Test Product 5001 ',1000.0E0,8888)
COMMIT
DELETE FROM PRODUCT WHERE PRODUCT_ID=5001
COMMIT
INSERT INTO PRODUCT_CATEGORY VALUES(1111,'Category 1111')
COMMIT
INSERT INTO PRODUCT VALUES(7001,'Test Product 7001 ',1000.0E0,1111)
COMMIT
INSERT INTO PRODUCT_CATEGORY VALUES(9999,'Category 9999')
COMMIT
INSERT INTO PRODUCT VALUES(6001,'Test Product 6001 ',1000.0E0,9999)
COMMIT
DELETE FROM PRODUCT WHERE PRODUCT_ID=6001
INSERT INTO PRODUCT VALUES(6001,'new name',2000.0E0,8888)
COMMIT
INSERT INTO PRODUCT_CATEGORY VALUES(6666,'Category 6666')
COMMIT
INSERT INTO PRODUCT VALUES(3001,'Test Product 123',1000.0E0,6666)
COMMIT
INSERT INTO PRODUCT_CATEGORY VALUES(7777,'Category 7777')
COMMIT
INSERT INTO PRODUCT VALUES(4001,'Test Product 2 ',1000.0E0,7777)
COMMIT
DELETE FROM PRODUCT WHERE PRODUCT_ID=4001
COMMIT
INSERT INTO PRODUCT_CATEGORY VALUES(5555,'Category 5555')
COMMIT
INSERT INTO PRODUCT VALUES(2001,'Test Product ',1000.0E0,5555)
COMMIT
